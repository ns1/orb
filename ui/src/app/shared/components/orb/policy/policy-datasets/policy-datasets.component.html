<nb-card *ngIf="!isLoading">
  <nb-card-header class="summary-accent">Active Datasets {{ this.datasets.length }}
    <div class="add-dataset-container">
      <button (click)="onCreateDataset()"
              ghost="true"
              nbButton
              status="primary">
        <i class="fa fa-plus">&nbsp;</i>Create Dataset
      </button>
    </div>
  </nb-card-header>
  <nb-card-body>
    <div class="col-12">
      <div #tableWrapper class="d-flex flex-column mt-4">
        <ngx-datatable
          #table
          [columnMode]="columnMode.flex"
          [columns]="columns"
          [footerHeight]="50"
          [headerHeight]="50"
          [loadingIndicator]="isLoading"
          [rowHeight]="50"
          [rows]="datasets"
          [scrollbarV]="true"
          [sorts]="tableSorts"
          class="orb"
          style="height: calc(62vh)">
        </ngx-datatable>
      </div>

    </div>
  </nb-card-body>
</nb-card>

<ng-template #nameTemplateCell let-i="index" let-row="row" let-value="value">
  <div nbTooltip="{{ row.id }}">
    {{ row.name }}
  </div>
</ng-template>

<ng-template #nameTemplateCell let-i="index" let-row="row" let-value="value">
  <div nbTooltip="{{ row.agent_group_id }}">
    {{ row.agent_group_name }}
  </div>
</ng-template>

<ng-template #validTemplateCell let-i="index" let-row="row" let-value="value">
  <div>
    <i aria-hidden="true" class="fa fa-circle orb-service-{{ row.valid }}"></i>
    {{ row.valid ? 'True' : 'False' }}
  </div>
</ng-template>

<ng-template #sinksTemplateCell let-i="index" let-row="row" let-value="value">
  <div nbTooltip="{{ value | json }}">
    {{ value?.length }}
  </div>
</ng-template>