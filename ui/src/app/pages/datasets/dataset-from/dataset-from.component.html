<nb-card size="large" class="nb-card-medium">
  <nb-card-header>
    Dataset Details
      <button nbButton
              ghost="true"
              size="small"
              class="orb-close-dialog"
              (click)="onClose()">
          <span class="nb-close"></span>
      </button>
  </nb-card-header>
  <nb-card-body>
    <form [formGroup]="form">
<!--      NAME-->
      <nb-form-field>
        <div>
          <label class="font-weight-bold">Dataset Name</label>
          <span class="required">*</span>
        </div>
        <input autofocus
               data-orb-qa-id="name"
               fieldSize="medium"
               formControlName="name"
               fullWidth="true"
               nbInput/>
      </nb-form-field>
<!--      GROUP-->
      <nb-form-field>
        <div>
          <label class="font-weight-bold">Agent Group</label>
          <span class="required">*</span>
        </div>
        <nb-select [(selected)]="selectedGroup"
                   [disabled]="isEdit || !!group"
                   appearance="filled"
                   autofocus
                   data-orb-qa-id="agent_group_id"
                   formControlName="agent_group_id"
                   fullWidth="true"
                   placeholder="Agent Group Name"
                   size="medium"
        >
          <nb-option *ngFor="let agentGroup of availableAgentGroups"
                     [attr.data-orb-qa-id]="'available_agent_group: '+agentGroup.id" [id]="agentGroup.id"
                     [value]="agentGroup.id">{{ agentGroup.name }}</nb-option>
        </nb-select>
      </nb-form-field>
<!--      POLICY-->
      <nb-form-field>
        <div>
          <label class="font-weight-bold">Collection Policy</label>
          <span class="required">*</span>
        </div>
        <nb-select [(selected)]="selectedPolicy"
                   [disabled]="isEdit || !!policy"
                   appearance="filled"
                   autofocus
                   data-orb-qa-id="agent_policy_id"
                   formControlName="agent_policy_id"
                   fullWidth="true"
                   placeholder="Policy"
                   size="medium"
        >
          <nb-option *ngFor="let agentPolicy of availableAgentPolicies"
                     [attr.data-orb-qa-id]="'available_agent_policy: '+agentPolicy.id" [id]="agentPolicy.id"
                     [value]="agentPolicy.id">{{ agentPolicy.name }}</nb-option>
        </nb-select>
      </nb-form-field>

            <div>
                <label class="font-weight-bold">Sinks</label>
                <span class="required">*</span>
            </div>
            <ngx-sink-display [(sinks)]="selectedSinks"></ngx-sink-display>
            <ngx-sink-control [(selectedSinks)]="selectedSinks" [availableSinks]="availableSinks"></ngx-sink-control>

    </form>
  </nb-card-body>
</nb-card>
