<nb-card [cdkTrapFocus]>
  <nb-card-header>
    Agent Credentials
    <button (click)="onClose()"
            class="orb-close-dialog align-content-end"
            data-orb-qa-id="button#close"
            ghost="true"
            nbButton
            size="small">
      <span class="nb-close"></span>
    </button>
  </nb-card-header>
  <nb-card-body>
    <p class="red-warning">
      *Make sure to copy the Agent Key now. You wonâ€™t be able to see it again!
    </p>
    <nb-card class="command-card">
      <nb-card-header>Agent Key</nb-card-header>
      <nb-card-body>
        <pre>
          <button autofocus
                  [cdkCopyToClipboard]="key2copy"
                  class="copy"
                  nbTooltip="Copy Agent Key"
                  style="margin-top: 9px;">
            <nb-icon (click)="toggleIcon('key')"
                     [icon]="copyKeyIcon"
                     pack="eva">
            </nb-icon>
          </button>
          <code>{{ agent?.key }}</code>
        </pre>
      </nb-card-body>
    </nb-card>
    <p class="link-text">
      <a href="https://orb.community/documentation/running_orb_agent/"
        target="_blank">&nbsp;Click here 
      </a>
      &nbsp;for more advanced options.
    </p> 
    <nb-card class="command-card">
      <nb-card-header>
        Provisioning Command
      </nb-card-header>
      <nb-card-body>
        <pre>
          <button [cdkCopyToClipboard]="defaultCommandCopy" class="copy"
            nbTooltip="Copy Provisioning Command">
            <nb-icon (click)="toggleIcon('command')" [icon]="copyCommandIcon" pack="eva">
            </nb-icon>
          </button>
          <button (click)="downloadCommand('default')" class="download"
            nbTooltip="Save Command as a File">
            <nb-icon [icon]="saveKeyIcon" pack="eva"></nb-icon>
          </button>
          <code [innerHtml]="defaultCommandShow">
            {{ defaultCommandShow }}
          </code>
        </pre>
      </nb-card-body>    
    </nb-card>
    <nb-card class="command-card">
      <nb-card-header>
        Provisioning Command with Configuration File
        <nb-icon icon="info-outline" 
        nbTooltip="Requires a configuration file named &quot;agent.yaml&quot; exist in your current working directory. PWD should be replaced with the path of your configuration file.">
        </nb-icon>
      </nb-card-header>
      <nb-card-body>
        <pre>
          <button [cdkCopyToClipboard]="fileConfigCommandCopy" class="copy"
            nbTooltip="Copy Provisioning Command">
            <nb-icon (click)="toggleIcon('command2')" [icon]="copyCommandIcon2" pack="eva">
            </nb-icon>
          </button>
          <button (click)="downloadCommand('fileConfig')" class="download"
            nbTooltip="Save Command as a File">
            <nb-icon [icon]="saveKeyIcon" pack="eva"></nb-icon>
          </button>
          <code [innerHtml]="fileConfigCommandShow">
            {{ fileConfigCommandShow }}
          </code>
        </pre>
      </nb-card-body>  
    </nb-card> 
    <p class="link-text warning">
      <a href="https://orb.community/documentation/running_orb_agent/#configuration-files"
        target="_blank">
        &nbsp;Click here 
      </a>
      <span>&nbsp;to learn more about how create and apply configuration files.</span>
    </p> 
  </nb-card-body>

  <!-- <nb-card-footer>
    <button
      (click)="onClose()"
      ghost
      nbButton
      status="primary">Close
    </button>
  </nb-card-footer> -->
</nb-card>
