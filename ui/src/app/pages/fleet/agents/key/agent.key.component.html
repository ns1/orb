<nb-card [cdkTrapFocus]>
  <nb-card-header>
    Agent Credentials
    <button (click)="onClose()"
            class="orb-close-dialog align-content-end"
            data-orb-qa-id="button#close"
            ghost="true"
            nbButton
            size="small">
      <span class="nb-close"></span>
    </button>
  </nb-card-header>

  <nb-card-body>
    <p>Make sure to copy the Agent Key now. You wonâ€™t be able to see it again!</p>

    <label>Agent Key</label>
    <pre>
      <button autofocus
              [cdkCopyToClipboard]="key2copy"
              class="copy"
              nbTooltip="Copy Agent Key">
        <nb-icon (click)="toggleIcon('key')"
                 [icon]="copyKeyIcon"
                 pack="eva">
        </nb-icon>
      </button>
      <code>{{ agent?.key }}</code>
    </pre>

    <label>Provisioning Command</label>
    <p>
      <a href="https://orb.community/documentation/running_orb_agent/"
         target="_blank">See here
      </a>
      for more advanced options.
    </p>
    <pre>
      <button [cdkCopyToClipboard]="command2copy" class="copy"
        nbTooltip="Copy Provisioning Command">
        <nb-icon (click)="toggleIcon('command')" [icon]="copyCommandIcon" pack="eva">
        </nb-icon>
      </button>
      <button (click)="downloadCommand()" class="download"
        nbTooltip="Save Command as a File">
        <nb-icon [icon]="saveKeyIcon" pack="eva"></nb-icon>
      </button>
      <code [innerHtml]="command2show">
        {{ command2show }}
      </code>
    </pre>
  </nb-card-body>

  <nb-card-footer>
    <button
      (click)="onClose()"
      ghost
      nbButton
      status="primary">Close
    </button>
  </nb-card-footer>
</nb-card>
